import _BSocial from"bsocial";import{BAP}from"bitcoin-bap";const BSocial=_BSocial.default;import{APP_NAME}from"./index.js";import{askMessage}from"./inquirer.js";import{broadcastTransaction}from"./bitcoin.js";export const post=async function(a,b,c=!1){if(!b){const a=await askMessage();b=a?.message}b||(console.error("No message to post"),process.exit(-1));const d=new BSocial(APP_NAME),e=d.post();e.addText(b),c&&e.setTxId(c);const f=e.getOps(),g=new BAP(a.xpriv);g.importIds(a.ids);const h=g.listIds(),i=g.getId(h[0]),j=i.signOpReturnWithAIP(f);return broadcastTransaction(a,j)};