import _BSocial from"bsocial";import{BAP}from"bitcoin-bap";const BSocial=_BSocial.default;import{APP_NAME}from"./index.js";import{askMessage}from"./inquirer.js";import{broadcastTransaction}from"./bitcoin.js";export const post=async function(a,b){if(!b){const a=await askMessage();b=a?.message}b||(console.error("No message to post"),process.exit(-1));const c=new BSocial(APP_NAME),d=c.post();d.addText(b);const e=d.getOps(),f=new BAP(a.xpriv);f.importIds(a.ids);const g=f.listIds(),h=f.getId(g[0]),i=h.signOpReturnWithAIP(e);return broadcastTransaction(a,i)};